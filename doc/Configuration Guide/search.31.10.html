<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en" lang="en" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
    <meta http-equiv="Content-Style-Type" content="text/css" />
    <!-- MOTW-DISABLED saved from url=(0014)about:internet -->
    <title>Configuring the Solr Extension for Integration with PolicyCenter</title>
    <link rel="StyleSheet" href="css/search.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/webworks.css" type="text/css" media="all" />
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/context.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/towwhdir.js"></script>
    <script type="text/javascript" language="JavaScript1.2" src="wwhdata/common/wwhpagef.js"></script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        var  WebWorksRootPath = "";
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        // Set reference to top level help frame
        //
        var  WWHFrame = WWHGetWWHFrame("", true);
      // -->
    </script>
    <script type="text/javascript" language="JavaScript1.2" src="scripts/expand.js"></script>
    <!-- THE FOLLOWING IS A GUIDEWIRE STYLE DEFINITION FOR THE LINK TO THIS FEATURE -->
    <link rel="StyleSheet" href="css/css-guidewire-extra.css" type="text/css" media="all" />
    <!-- THE FOLLOWING IS A GUIDEWIRE GSCRIPT FUNCTION FOR THE LINK TO THIS FEATURE -->
    <script type="text/javascript">
function guidewire_selectall()
{
var text_val=eval("document.linktothisurlform.urlfield");
text_val.focus();
text_val.select();
}
</script>
  </head>
  <body onLoad="WWHUpdate();" onUnload="WWHUnload();" onKeyDown="WWHHandleKeyDown((document.all||document.getElementById||document.layers)?event:null);" onKeyPress="WWHHandleKeyPress((document.all||document.getElementById||document.layers)?event:null);" onKeyUp="WWHHandleKeyUp((document.all||document.getElementById||document.layers)?event:null);">
    <!-- THE FOLLOWING IS A GUIDEWIRE DIV FOR THE 'LINK TO THIS' FEATURE -->
    <div id="linkToThisPage" class="popup" style="display: none;">
      <div class="popupTitle">Link Directly to This Page 
           <a href="#" onclick="var thePopup = getElementById('linkToThisPage');thePopup.style.display='none';return false;"><img class="popupClosebox" src="wwhelp/wwhimpl/common/images/close.gif" /></a></div>
      <div style="padding:6px;">
        <div class="popupText" id="linkToThisPageBookmark">An error has occurred if you see this messsage.</div>
        <form name="linktothisurlform" method="post" action="" style="width:275px;margin:0px">
          <input type="text" class="popupURLText" id="linkToThisPageURL" name="urlfield" rows="1" cols="55" onClick="guidewire_selectall();" onFocus="guidewire_selectall();"></input>
        </form>
      </div>
    </div>
    <br />
    <div class="WebWorks_Breadcrumbs" style="text-align: left;">
      <span>PolicyCenter Configuration Guide</span> : 
    <span class="WebWorks_Breadcrumbs" style="text-align: left;"><a class="WebWorks_Breadcrumb_Link" href="p-ui.html#3089897">User Interface Configuration</a> : <a class="WebWorks_Breadcrumb_Link" href="search.31.01.html#3089897">Configuring Search Functionality</a> : <a class="WebWorks_Breadcrumb_Link" href="search.31.07.html#3089897">Free-text Search Configuration</a> : Configuring the Solr Extension for Integration with PolicyCenter</span></div>
    <hr align="left" />
    <blockquote>
      <h4 class="H2B_-_Heading_2_Break"><a name="3089897">Configuring the Solr Extension for Integration with PolicyCenter</a></h4>
      <div class="B_-_Body"><a name="3089898">The following configuration files are important when you configure the Guidewire Solr Extension for free-text search. </a></div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3089902">pc-gwsolr.xml</a></span> – Defines the Guidewire Solr home directory for the Guidewire Solr Extension. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3089903">solr.xml</a></span> – Defines for the Guidewire Solr Extension the location in the Guidewire Solr home directory of each core for searchable entity types. For PolicyCenter, the only supported core is for policies.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3089910">solrserver-config.xml</a></span> – Configures how PolicyCenter connects to and works with the Guidewire Solr Extension. Categories of configuration settings include:</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="3089911">Connections with specific instances of the Guidewire Solr Extension</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="3089912">Type of operating mode for instances of the Guidewire Solr Extension</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI2_-_Bullet_Item_002c_Level_2_outer" style="margin-left: 67pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI2_-_Bullet_Item_002c_Level_2_inner"><a name="3089916">Provision of changed configuration files from the PolicyCenter home directory to instances of the Guidewire Solr home directory</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3089917">Generally, you work with these files during installation, at the time you set up free-text search in the application server or servers dedicated to the Guidewire Solr Extension. </a></div>
      <h6 class="HS_-_Head_Sub"><a name="3089918">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3089924">For details on the </a><span class="cv_-_computer_voice">pc-gwsolr.xml</span> and <span class="cv_-_computer_voice">solr.xml</span> configuration files, see <a href="javascript:WWHClickedPopup('install', 'postinstall.7.02.html#2667323', '');" title="Free-text Search Setup">“Free-text Search Setup” in the </a><span class="bt_-_book_title"><a href="javascript:WWHClickedPopup('install', 'postinstall.7.02.html#2667323', '');" title="Free-text Search Setup">Installation Guide</a></span>.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3089926">Configuring Connections with the Guidewire Solr Extension </a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3089930">You configure instances of the Guidewire Solr Extension and how PolicyCenter connects with them in the </a><span class="cv_-_computer_voice">solrserver-config.xml</span> file. Two XML elements help in this type of configuration: the <span class="cv_-_computer_voice">&lt;document&gt;</span> element and the <span class="cv_-_computer_voice">&lt;solrserver&gt;</span> element. </div>
      <h6 class="HS_-_Head_Sub"><a name="3089931">The </a><span class="cvh_-_computer_voice_in_heading">&lt;document&gt;</span> Element</h6>
      <div class="B_-_Body"><a name="3093091">For each type of index document, such as policy data, a </a><span class="cv_-_computer_voice">&lt;document&gt;</span> element associates that data type with an instance of the Guidewire Solr Extension. For example:</div>
      <div class="CS_-_Code_Single_Line"><a name="3093092">&lt;</a><span class="s_-_strong">document</span> name="policy" servername="my_solr_instance"/&gt;</div>
      <div class="B_-_Body"><a name="3089936">The </a><span class="cv_-_computer_voice">servername</span> attribute specifies an XML definition elsewhere in the <span class="cv_-_computer_voice">solrserver-config.xml</span> file. </div>
      <div class="B_-_Body"><a name="3089937">The base configuration includes </a><span class="cv_-_computer_voice">&lt;document&gt;</span> elements for each type of data that free-text search supports. You must modify the <span class="cv_-_computer_voice">servername</span> attribute to match the instances of the Guidewire Solr Extension that you define and use. </div>
      <h6 class="HS_-_Head_Sub"><a name="3089938">The </a><span class="cvh_-_computer_voice_in_heading">&lt;solrserver&gt;</span> Element</h6>
      <div class="B_-_Body"><a name="3089939">For each instance of the Guidewire Solr Extension, a </a><span class="cv_-_computer_voice">&lt;solrserver&gt;</span> element defines its type of operation and how PolicyCenter connects with it. </div>
      <div class="CS_-_Code_Single_Line"><a name="3089943">&lt;</a><span class="s_-_strong">solrserver</span> name="<span class="pc_-_parameter_in_code">name"</span> type={"embedded"|"http"|"cloud"}&gt;</div>
      <div class="B_-_Body"><a name="3089944">The </a><span class="cv_-_computer_voice">servername</span> attributes of <span class="cv_-_computer_voice">&lt;document&gt;</span> elements must match the name attributes of <span class="cv_-_computer_voice">&lt;solrserver&gt;</span> elements. You can map more than one <span class="cv_-_computer_voice">&lt;document&gt;</span> element to the same <span class="cv_-_computer_voice">&lt;solrserver&gt;</span> element. </div>
      <div class="B_-_Body"><a name="3089945">The </a><span class="cv_-_computer_voice">type</span> attribute specifies the operating mode for the Guidewire Solr Extension. The attribute has three possible values: </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3089949">embedded</a></span> – The Guidewire Solr Extension operates embedded within PolicyCenter. </div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3089953">http</a></span> – The Guidewire Solr Extension operates externally from PolicyCenter, as a single server.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><span class="cv_-_computer_voice"><a name="3089957">cloud</a></span> – The Guidewire Solr Extension operates externally from PolicyCenter, as cluster of servers.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3089958">The base configuration includes </a><span class="cv_-_computer_voice">&lt;solrserver&gt;</span> elements that serve as examples for the <span class="cv_-_computer_voice">&lt;solrserver&gt;</span> elements you must define. </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3089960">Configuring the Guidewire Solr Extension for Embedded or External Operation</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3089961">You configure the Guidewire Solr Extension for embedded or external operation in the </a><span class="cv_-_computer_voice">solrserver-config.xml</span> file. The file contains one or more <span class="cv_-_computer_voice">&lt;solrserver&gt;</span> elements. They define instances of the Guidewire Solr Extension. You configure the Guidewire Solr Extension for embedded or external operation with the <span class="cv_-_computer_voice">type</span> attribute. </div>
      <div class="CS_-_Code_Single_Line"><a name="3089962">&lt;</a><span class="s_-_strong">solrserver</span> name="<span class="pc_-_parameter_in_code">name"</span> <span class="s_-_strong">type</span>={"embedded"|"http"|"cloud"}&gt;</div>
      <h6 class="HS_-_Head_Sub"><a name="3089964">Configuring the Guidewire Solr Extension for Embedded Operation</a></h6>
      <div class="B_-_Body"><a name="3089968">With embedded operation, the Guidewire Solr Extension runs as part of the PolicyCenter application, not as an application in a different application server instance. Therefore, embedded server definitions do not specify HTTP connection information. </a></div>
      <div class="B_-_Body"><a name="3089969">The following example shows a typical configuration of an embedded server.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="3093116">&lt;solrserver name="</a><span class="s_-_strong">embedded</span>" type="<span class="s_-_strong">embedded</span>"&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3093117">&nbsp;&nbsp;&lt;param name="</a><span class="s_-_strong">solrroot</span>" value="c:\opt\gwsolr"/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3093118">&lt;/solrserver&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3093119">...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3093120">&lt;document name="</a><span class="s_-_strong">policy</span>" archive="false" servername="<span class="s_-_strong">embedded</span>"/&gt;</PRE>
      <div class="B_-_Body"><a name="3089980">The </a><span class="cv_-_computer_voice">name</span> attribute lets you bind document types, such as polices, to a server that has cores for them. A <span class="cv_-_computer_voice">&lt;document&gt;</span> element must never reference a <span class="cv_-_computer_voice">&lt;solrserver&gt;</span> element of type <span class="cv_-_computer_voice">embedded</span> if you run the PolicyCenter application in production mode. If you do so, PolicyCenter generates an error message on the server console and in the server log, and free-text search does not operate. </div>
      <div class="B_-_Body"><a name="3089987">For Solr servers of embedded type, you must specify the </a><span class="cv_-_computer_voice">solrroot</span> parameter. The value is the absolute path to a directory where the indexes for the cores are located. Generally, you specify a Guidewire Solr Home directory that holds files extracted from the <span class="cv_-_computer_voice">pc-gwsolr.zip</span> file as <span class="cv_-_computer_voice">solrroot</span>. In a typical development environment, the home directory is on the same host as the one that hosts your PolicyCenter application. Free-text search creates the directory specified by <span class="cv_-_computer_voice">solrroot</span> during server startup if the directory does not exist. </div>
      <h6 class="HS_-_Head_Sub"><a name="3089994">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'search.31.10.html#3090041', '');" title="Configuring the Solr Extension for Integration with PolicyCenter" name="3089998">“Configuring the Guidewire Solr Extension for Provisioning”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <h6 class="HS_-_Head_Sub"><a name="3089999">Configuring the Guidewire Solr Extension for External Operation</a></h6>
      <div class="B_-_Body"><a name="3090000">With external operation, the Guidewire Solr Extension runs as an independent application in a different application server instance than the one that runs PolicyCenter. Therefore, external server definitions must specify HTTP connection information.</a></div>
      <div class="B_-_Body"><a name="3090004">The following example shows a typical configuration of an external server for a development environment.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="3090005">&lt;solrserver name="</a><span class="s_-_strong">localhost</span>" type="<span class="s_-_strong">http</span>"&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090006">&nbsp;&nbsp;&lt;param name="</a><span class="s_-_strong">host</span>" value="<span class="s_-_strong">localhost</span>"/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090007">&nbsp;&nbsp;&lt;param name="</a><span class="s_-_strong">port</span>" value="<span class="s_-_strong">8983</span>"/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090008">&lt;/solrserver&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090009">...</a></PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3090010">&lt;document name="</a><span class="s_-_strong">policy</span>" archive="false" servername="<span class="s_-_strong">localhost</span>"/&gt;</PRE>
      <div class="B_-_Body"><a name="3090011">The </a><span class="cv_-_computer_voice">name</span> attribute lets you bind document types, such as polices, to a server that has cores for them. </div>
      <div class="B_-_Body"><a name="3090012">For external servers, you must specify the </a><span class="cv_-_computer_voice">host</span> and the <span class="cv_-_computer_voice">port</span> parameters. Typically in a development environment, you run the Guidewire Solr Extension in an application server instance hosted on the same machine where you run the PolicyCenter application. If you run the Guidewire Solr Extension on the same machine that runs PolicyCenter, specify <span class="cv_-_computer_voice">localhost</span> for the <span class="cv_-_computer_voice">host</span> parameter. Otherwise, specify the host name for the remote host. </div>
      <div class="B_-_Body"><a name="3090019">In the default setup of the Guidewire Solr Extension, you configure its port number as 8983. For the </a><span class="cv_-_computer_voice">port</span> parameter of a an external server definition, specify the port number that you configured for the Guidewire Solr Extension in the application server that runs it. </div>
      <div class="B_-_Body"><a name="3090020">With external servers, you can specify two kinds of HTTP timeout parameters: </a><span class="cv_-_computer_voice">connectiontimeout</span> and <span class="cv_-_computer_voice">readtimeout</span>. The following example shows typical timeout parameter settings. </div>
      <PRE class="CF_-_Code_First_Line"><a name="3090021">&lt;solrserver name="localhost" type="http"&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090022">&nbsp;&nbsp;&lt;param name="host" value="localhost"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090023">&nbsp;&nbsp;&lt;param name="port" value="8983"/&gt;</a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090024">&nbsp;&nbsp;&lt;param name="</a><span class="s_-_strong">connectiontimeout</span>" value="<span class="s_-_strong">300000</span>"/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090025">&nbsp;&nbsp;&lt;param name="</a><span class="s_-_strong">readtimeout</span>" value="<span class="s_-_strong">300000</span>"/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090026">&nbsp;&nbsp;&lt;param name </a></PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090027">&lt;/solrserver&gt;</a></PRE>
      <div class="B_-_Body"><a name="3090028">Specify timeout intervals in milliseconds. The </a><span class="cv_-_computer_voice">connectiontimeout</span> parameter specifies how long PolicyCenter waits for the Guidewire Solr Extension to respond to a connection request. The <span class="cv_-_computer_voice">readtimeout</span> parameter specifies how long PolicyCenter waits for the Guidewire Solr Extension to completely return results from a search request.</div>
      <h6 class="HS_-_Head_Sub"><a name="3090035">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'search.31.10.html#3090091', '');" title="Configuring the Solr Extension for Integration with PolicyCenter" name="3090039">“Configuring the Guidewire Solr Extension for High Availability”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3090041">Configuring the Guidewire Solr Extension for Provisioning</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3090042">You can configure embedded server definitions to provision the Guidewire Solr Home directory with revised configuration files after you edit them in Studio. Use the </a><span class="cv_-_computer_voice">provision</span> parameter in an embedded server definition to control whether and how to provision the Guidewire Solr Home directory with changed configuration files.</div>
      <div class="CS_-_Code_Single_Line"><a name="3090043">&lt;param name="</a><span class="s_-_strong">provision</span>" value="{"true"|"false"|"auto"}/&gt;</div>
      <div class="B_-_Body"><a name="3090044">The following example shows a typical configuration of an embedded server with provisioning.</a></div>
      <PRE class="CF_-_Code_First_Line"><a name="3090045">&lt;solrserver name="embedded" type="</a><span class="s_-_strong">embedded</span>"&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090046">&nbsp;&nbsp;&lt;param name="</a><span class="s_-_strong">provision</span>" value="true"</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090047">&nbsp;&nbsp;&lt;param name="</a><span class="s_-_strong">solrroot</span>" value="c:\opt\gwsolr"/&gt;</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3090048">&lt;/solrserver&gt;</a></PRE>
      <div class="B_-_Body"><a name="3090049">If you set the </a><span class="cv_-_computer_voice">provision</span> parameter to <span class="cv_-_computer_voice">true</span>, free-text search deploys the files from <span class="cv_-_computer_voice">PolicyCenter/gwsolr/pc-gwsolr.zip</span> to the <span class="cv_-_computer_voice">solrroot</span> directory every time you start the PolicyCenter application. If you set <span class="cv_-_computer_voice">provision</span> to <span class="cv_-_computer_voice">false</span>, you must provision changed files that you edit in Studio. Set <span class="cv_-_computer_voice">provision</span> to <span class="cv_-_computer_voice">auto</span> only for automated testing. With <span class="cv_-_computer_voice">provision</span> set to auto, the indexes are dropped each time you start the PolicyCenter application.</div>
      <h6 class="HS_-_Head_Sub"><a name="3090062">To use provisioning successfully</a></h6>
      <div class="LS_-_List_Start_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LS_-_List_Start_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	1.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LS_-_List_Start_inner"><a name="3090063">Always modify the free-text configuration files in Studio.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	2.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3090067">Stop the PolicyCenter application, if it is running.</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	3.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3090068">Open a command prompt to </a><span class="cv_-_computer_voice">PolicyCenter/bin</span> and run the following command.</div>
            </td>
          </tr>
        </table>
      </div>
      <div class="CS_-_Code_Single_Line"><a name="3090069">&nbsp;&nbsp;&nbsp;&nbsp;gwpc solr</a></div>
      <div class="LP_-_List_Para"><a name="3090073">The command rebuilds the </a><span class="cv_-_computer_voice">pc-gwsolr.zip</span> file in <span class="cv_-_computer_voice">PolicyCenter/solr</span>. </div>
      <div class="LI_-_List_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="LI_-_List_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="ri_-_run_in_header">	4.	</span>
              </div>
            </td>
            <td width="100%">
              <div class="LI_-_List_Item_inner"><a name="3090077">Start the PolicyCenter application. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="LP_-_List_Para"><a name="3090081">Free-text search deploys the contents of </a><span class="cv_-_computer_voice">pc-gwsolr.zip</span> to the directory specified by <span class="cv_-_computer_voice">solrroot</span>. Files already in <span class="cv_-_computer_voice">solrroot</span> are overwritten by new files from <span class="cv_-_computer_voice">pc-gwsolr.zip</span>.</div>
      <h6 class="HS_-_Head_Sub"><a name="3090085">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a href="javascript:WWHClickedPopup('config', 'search.31.10.html#3089964', '');" title="Configuring the Solr Extension for Integration with PolicyCenter" name="3090089">“Configuring the Guidewire Solr Extension for Embedded Operation”</a></div>
            </td>
          </tr>
        </table>
      </div>
      <div class="H3_-_Heading_3_outer" style="margin-left: 36pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <h5 class="H3_-_Heading_3_inner" style="width: 18pt; white-space: nowrap"></h5>
            </td>
            <td width="100%">
              <h5 class="H3_-_Heading_3_inner"><a name="3090091">Configuring the Guidewire Solr Extension for High Availability</a></h5>
            </td>
          </tr>
        </table>
      </div>
      <div class="B_-_Body"><a name="3090327">You configure the Guidewire Solr Extension for high availability by deploying it to multiple SolrCloud servers, managed as a cluster by Apache Zookeeper. Whenever you run the Guidewire Solr Extension with SolrCloud,</a> you specify the host name and port number of the Zookeeper server in <span class="cv_-_computer_voice">solrserver-config.xml</span>. Use a <span class="cv_-_computer_voice">&lt;solrserver&gt;</span> element, and set the <span class="cv_-_computer_voice">type</span> attribute to <span class="cv_-_computer_voice">"cloud"</span>. </div>
      <PRE class="CF_-_Code_First_Line"><a name="3090328">&lt;solrserver name="cloud" type=</a><span class="s_-_strong">"cloud"</span>&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090329">&nbsp;&nbsp;&lt;param name=</a><span class="s_-_strong">"host"</span> value="<span class="pc_-_parameter_in_code">zookeeperHostName"</span>/&gt;</PRE>
      <PRE class="CM_-_Code_Middle_Line"><a name="3090330">&nbsp;&nbsp;&lt;param name=</a><span class="s_-_strong">"port"</span> value=<span class="s_-_strong">"2181"</span>/&gt;</PRE>
      <PRE class="CL_-_Code_Last_Line"><a name="3090331">&lt;/solrserver&gt;</a></PRE>
      <h6 class="HS_-_Head_Sub"><a name="3090332">See also</a></h6>
      <div class="BI_-_Bullet_Item_outer" style="margin-left: 57pt">
        <table border="0" cellspacing="0" cellpadding="0" summary="" role="presentation">
          <tr style="vertical-align: baseline">
            <td>
              <div class="BI_-_Bullet_Item_inner" style="width: 15pt; white-space: nowrap">
                <span class="bu_-_bullet">•	</span>
              </div>
            </td>
            <td width="100%">
              <div class="BI_-_Bullet_Item_inner"><a name="3090333">For complete information on configuring a SolrCloud cluster in which to run the Guidewire Solr Extension, consult your Apache Solr documentation. </a></div>
            </td>
          </tr>
        </table>
      </div>
      <script type="text/javascript" language="JavaScript1.2">
        <!--
          // Clear related topics
          //
          WWHClearRelatedTopics();

          document.writeln(WWHRelatedTopicsInlineHTML());
        // -->
      </script>
    </blockquote>
    <script type="text/javascript" language="JavaScript1.2">
      <!--
        document.write(WWHRelatedTopicsDivTag() + WWHPopupDivTag() + WWHALinksDivTag());
      // -->
    </script>
  </body>
</html>